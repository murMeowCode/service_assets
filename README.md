# üöÄ AuthUsers ‚Äî —Å–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –Ω–∞ Django

**AuthUsers** ‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –±–∞–∑–µ Django + DRF + JWT.  
–û–Ω –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –≥–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞—è–≤–æ–∫, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã–º –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º, –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** (—á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä)
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (–∞–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –∑–∞—è–≤–∫–∏)
- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (`/auth/users/me/`)
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞–º–∏**: —Ä–µ–∞–ª—å–Ω—ã–π –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Å –±–æ–Ω—É—Å–æ–º
- **Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏
- **–†–æ–ª–µ–≤—ã–µ –ø—Ä–∞–≤–∞**: –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º

---

## üìö API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

| –ú–µ—Ç–æ–¥ | URL                              | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|----------------------------------|------------------------------------------|
| POST  | `/auth/jwt/create/`              | –ü–æ–ª—É—á–∏—Ç—å JWT —Ç–æ–∫–µ–Ω                       |
| POST  | `/auth/users/`                   | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è                 |
| GET   | `/auth/users/me/`                | –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å                    |
| PATCH | `/auth/users/me/`                | –û–±–Ω–æ–≤–∏—Ç—å —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å                    |

### –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)

| –ú–µ—Ç–æ–¥ | URL                             | –û–ø–∏—Å–∞–Ω–∏–µ                                 |
|-------|---------------------------------|------------------------------------------|
| GET   | `/confirm-users/`               | –°–ø–∏—Å–æ–∫ –Ω–µ–ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π    |
| PATCH | `/confirm-users/<id>/`          | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å/–æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É             |

**–ü—Ä–∏–º–µ—Ä PATCH-–∑–∞–ø—Ä–æ—Å–∞:**

{
"action": "accept" // –∏–ª–∏ "reject"
}


### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–æ–º

| –ú–µ—Ç–æ–¥ | URL            | –û–ø–∏—Å–∞–Ω–∏–µ                                   |
|-------|----------------|--------------------------------------------|
| PATCH | `/balance/`    | –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–ª–∞–Ω—Å–æ–º                        |

**–ü—Ä–∏–º–µ—Ä PATCH-–∑–∞–ø—Ä–æ—Å–∞:**

{
"action": "in", // "in", "out" –∏–ª–∏ "convert"
"value_type": "real", // "real" –∏–ª–∏ "virtual"
"value": 1000
}

- **action:**  
  - `"in"` ‚Äî –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ  
  - `"out"` ‚Äî —Å–ø–∏—Å–∞–Ω–∏–µ  
  - `"convert"` ‚Äî –ø–µ—Ä–µ–≤–æ–¥ —Å —Ä–µ–∞–ª—å–Ω–æ–≥–æ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π (—Å 5% –±–æ–Ω—É—Å–æ–º)

---

## üì® Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- –ü—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–∏—Å—å–º–æ –Ω–∞ email —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º.

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –º–µ—Ç–æ–¥—ã (–∫—Ä–æ–º–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞) —Ç—Ä–µ–±—É—é—Ç JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ –¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `users/views.py` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –≤—å—é—Ö–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ, –±–∞–ª–∞–Ω—Å)
- `users/serializers.py` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –±–∞–ª–∞–Ω—Å–∞
- `users/permissions.py` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- `authusers/urls.py` ‚Äî –º–∞—Ä—à—Ä—É—Ç—ã

---

## ‚ö° –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:**

POST /auth/jwt/create/
{
"email": "user@example.com",
"password": "yourpassword"
}


**–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å:**

GET /auth/users/me/
Authorization: Bearer <your_token>

**–ü–æ–ø–æ–ª–Ω–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å:**

PATCH /balance/
Authorization: Bearer <your_token>
{
"action": "in",
"value_type": "virtual",
"value": 500
}

---
